import{r as l,R as m}from"./react-39a4f03e.js";/*!
 * react-paypal-js v8.1.3 (2023-08-16T17:57:48.377Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s;(function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"})(s||(s={}));var E;(function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"})(E||(E={}));var D;(function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"})(D||(D={}));var c=function(){return c=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},c.apply(this,arguments)};function j(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function P(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var b="data-react-paypal-script-id",A={DATA_CLIENT_TOKEN:"dataClientToken",DATA_USER_ID_TOKEN:"dataUserIdToken",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource",DATA_SDK_INTEGRATION_SOURCE_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace"},z="Failed to load the PayPal JS SDK script.",x="paypal",X="usePayPalScriptReducer must be used within a PayPalScriptProvider";function F(e){return e===void 0&&(e=x),window[e]}function Z(e){for(var t="",r=0;r<e.length;r++){var n=e[r].charCodeAt(0)*r;e[r+1]&&(n+=e[r+1].charCodeAt(0)*(r-1)),t+=String.fromCharCode(97+Math.abs(n)%26)}return t}function Q(e){var t=e.reactComponentName,r=e.sdkComponentKey,n=e.sdkRequestedComponents,a=n===void 0?"":n,o=e.sdkDataNamespace,i=o===void 0?x:o,u=r.charAt(0).toUpperCase().concat(r.substring(1)),d="Unable to render <".concat(t," /> because window.").concat(i,".").concat(u," is undefined.");if(!a.includes(r)){var f=[a,r].filter(Boolean).join();d+=`
To fix the issue, add '`.concat(r,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(f,"'}}>`.")}return d}function B(e){var t=e,r=b;t[r];var n=j(t,[r+""]);return"react-paypal-js-".concat(Z(JSON.stringify(n)))}function $(e){var t=self.document.querySelector("script[".concat(b,'="').concat(e,'"]'));t!=null&&t.parentNode&&t.parentNode.removeChild(t)}function H(e,t){var r,n;switch(t.type){case E.LOADING_STATUS:return typeof t.value=="object"?c(c({},e),{loadingStatus:t.value.state,loadingStatusErrorMessage:t.value.message}):c(c({},e),{loadingStatus:t.value});case E.RESET_OPTIONS:return $(e.options[b]),c(c({},e),{loadingStatus:s.PENDING,options:c(c((r={},r[A.DATA_SDK_INTEGRATION_SOURCE]=A.DATA_SDK_INTEGRATION_SOURCE_VALUE,r),t.value),(n={},n[b]="".concat(B(t.value)),n))});case E.SET_BRAINTREE_INSTANCE:return c(c({},e),{braintreePayPalCheckoutInstance:t.value});default:return e}}var G=l.createContext(null);function Y(e){if(typeof(e==null?void 0:e.dispatch)=="function"&&e.dispatch.length!==0)return e;throw new Error(X)}function ee(){var e=Y(l.useContext(G)),t=c(c({},e),{isInitial:e.loadingStatus===s.INITIAL,isPending:e.loadingStatus===s.PENDING,isResolved:e.loadingStatus===s.RESOLVED,isRejected:e.loadingStatus===s.REJECTED});return[t,e.dispatch]}l.createContext({});var K=function(e){var t=e.className,r=t===void 0?"":t,n=e.disabled,a=n===void 0?!1:n,o=e.children,i=e.forceReRender,u=i===void 0?[]:i,d=j(e,["className","disabled","children","forceReRender"]),f=a?{opacity:.38}:{},S="".concat(r," ").concat(a?"paypal-buttons-disabled":"").trim(),p=l.useRef(null),v=l.useRef(null),T=ee()[0],O=T.isResolved,R=T.options,_=l.useState(null),g=_[0],q=_[1],C=l.useState(!0),M=C[0],V=C[1],W=l.useState(null),y=W[1];function h(){v.current!==null&&v.current.close().catch(function(){})}return l.useEffect(function(){if(O===!1)return h;var I=F(R.dataNamespace);if(I===void 0||I.Buttons===void 0)return y(function(){throw new Error(Q({reactComponentName:K.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:R.components,sdkDataNamespace:R[A.DATA_NAMESPACE]}))}),h;var J=function(N,w){q(w),typeof d.onInit=="function"&&d.onInit(N,w)};try{v.current=I.Buttons(c(c({},d),{onInit:J}))}catch(N){return y(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(N))})}return v.current.isEligible()===!1?(V(!1),h):(p.current&&v.current.render(p.current).catch(function(N){p.current===null||p.current.children.length===0||y(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(N))})}),h)},P(P([O],u,!0),[d.fundingSource],!1)),l.useEffect(function(){g!==null&&(a===!0?g.disable().catch(function(){}):g.enable().catch(function(){}))},[a,g]),m.createElement(m.Fragment,null,M?m.createElement("div",{ref:p,style:f,className:S}):o)};K.displayName="PayPalButtons";function te(e,t){var r=document.querySelector('script[src="'.concat(e,'"]'));if(r===null)return null;var n=k(e,t),a=r.cloneNode();if(delete a.dataset.uidAuto,Object.keys(a.dataset).length!==Object.keys(n.dataset).length)return null;var o=!0;return Object.keys(a.dataset).forEach(function(i){a.dataset[i]!==n.dataset[i]&&(o=!1)}),o?r:null}function re(e){var t=e.url,r=e.attributes,n=e.onSuccess,a=e.onError,o=k(t,r);o.onerror=a,o.onload=n,document.head.insertBefore(o,document.head.firstElementChild)}function ne(e){var t="https://www.paypal.com/sdk/js";e.sdkBaseUrl&&(t=e.sdkBaseUrl,delete e.sdkBaseUrl);var r=e,n=Object.keys(r).filter(function(i){return typeof r[i]<"u"&&r[i]!==null&&r[i]!==""}).reduce(function(i,u){var d=r[u].toString();return u=ae(u),u.substring(0,4)==="data"?i.dataAttributes[u]=d:i.queryParams[u]=d,i},{queryParams:{},dataAttributes:{}}),a=n.queryParams,o=n.dataAttributes;return a["merchant-id"]&&a["merchant-id"].indexOf(",")!==-1&&(o["data-merchant-id"]=a["merchant-id"],a["merchant-id"]="*"),{url:"".concat(t,"?").concat(oe(a)),dataAttributes:o}}function ae(e){var t=function(r,n){return(n?"-":"")+r.toLowerCase()};return e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,t)}function oe(e){var t="";return Object.keys(e).forEach(function(r){t.length!==0&&(t+="&"),t+=r+"="+e[r]}),t}function k(e,t){t===void 0&&(t={});var r=document.createElement("script");return r.src=e,Object.keys(t).forEach(function(n){r.setAttribute(n,t[n]),n==="data-csp-nonce"&&r.setAttribute("nonce",t["data-csp-nonce"])}),r}function ie(e,t){if(t===void 0&&(t=Promise),L(e,t),typeof document>"u")return t.resolve(null);var r=ne(e),n=r.url,a=r.dataAttributes,o=a["data-namespace"]||"paypal",i=U(o);return te(n,a)&&i?t.resolve(i):ce({url:n,attributes:a},t).then(function(){var u=U(o);if(u)return u;throw new Error("The window.".concat(o," global variable is not available."))})}function ce(e,t){t===void 0&&(t=Promise),L(e,t);var r=e.url,n=e.attributes;if(typeof r!="string"||r.length===0)throw new Error("Invalid url.");if(typeof n<"u"&&typeof n!="object")throw new Error("Expected attributes to be an object.");return new t(function(a,o){if(typeof document>"u")return a();re({url:r,attributes:n,onSuccess:function(){return a()},onError:function(){var i=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return o(i)}})})}function U(e){return window[e]}function L(e,t){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");if(typeof t<"u"&&typeof t!="function")throw new Error("Expected PromisePonyfill to be a function.")}var se=function(e){var t,r,n=e.options,a=n===void 0?{clientId:"test"}:n,o=e.children,i=e.deferLoading,u=i===void 0?!1:i,d=l.useReducer(H,{options:c(c((t={},t[A.DATA_SDK_INTEGRATION_SOURCE]=A.DATA_SDK_INTEGRATION_SOURCE_VALUE,t),a),(r={},r[b]="".concat(B(a)),r)),loadingStatus:u?s.INITIAL:s.PENDING}),f=d[0],S=d[1];return l.useEffect(function(){if(u===!1&&f.loadingStatus===s.INITIAL)return S({type:E.LOADING_STATUS,value:s.PENDING});if(f.loadingStatus===s.PENDING){var p=!0;return ie(f.options).then(function(){p&&S({type:E.LOADING_STATUS,value:s.RESOLVED})}).catch(function(v){console.error("".concat(z," ").concat(v)),p&&S({type:E.LOADING_STATUS,value:{state:s.REJECTED,message:String(v)}})}),function(){p=!1}}},[f.options,u,f.loadingStatus]),m.createElement(G.Provider,{value:c(c({},f),{dispatch:S})},o)};export{se as P,K as a};
