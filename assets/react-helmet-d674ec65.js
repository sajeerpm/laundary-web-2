import{P as m}from"./prop-types-16bb4d60.js";import{w as z}from"./react-side-effect-24c0ee0b.js";import{i as Q}from"./react-fast-compare-5c031325.js";import{R as w}from"./react-39a4f03e.js";import{o as V}from"./object-assign-b1cffce8.js";var S={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},l={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(l).map(function(a){return l[a]});var h={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},M={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},H={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},W=Object.keys(M).reduce(function(a,e){return a[M[e]]=e,a},{}),J=[l.NOSCRIPT,l.SCRIPT,l.STYLE],g="data-react-helmet",Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},K=function(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")},ee=function(){function a(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,r,t){return r&&a(e.prototype,r),t&&a(e,t),e}}(),v=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(a[t]=r[t])}return a},te=function(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)},k=function(a,e){var r={};for(var t in a)e.indexOf(t)>=0||Object.prototype.hasOwnProperty.call(a,t)&&(r[t]=a[t]);return r},re=function(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:a},_=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},ne=function(e){var r=O(e,l.TITLE),t=O(e,H.TITLE_TEMPLATE);if(t&&r)return t.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var n=O(e,H.DEFAULT_TITLE);return r||n||void 0},ae=function(e){return O(e,H.ON_CHANGE_CLIENT_STATE)||function(){}},N=function(e,r){return r.filter(function(t){return typeof t[e]<"u"}).map(function(t){return t[e]}).reduce(function(t,n){return v({},t,n)},{})},ie=function(e,r){return r.filter(function(t){return typeof t[l.BASE]<"u"}).map(function(t){return t[l.BASE]}).reverse().reduce(function(t,n){if(!t.length)for(var o=Object.keys(n),f=0;f<o.length;f++){var s=o[f],i=s.toLowerCase();if(e.indexOf(i)!==-1&&n[i])return t.concat(n)}return t},[])},I=function(e,r,t){var n={};return t.filter(function(o){return Array.isArray(o[e])?!0:(typeof o[e]<"u"&&le("Helmet: "+e+' should be of type "Array". Instead found type "'+Z(o[e])+'"'),!1)}).map(function(o){return o[e]}).reverse().reduce(function(o,f){var s={};f.filter(function(d){for(var p=void 0,b=Object.keys(d),A=0;A<b.length;A++){var E=b[A],y=E.toLowerCase();r.indexOf(y)!==-1&&!(p===h.REL&&d[p].toLowerCase()==="canonical")&&!(y===h.REL&&d[y].toLowerCase()==="stylesheet")&&(p=y),r.indexOf(E)!==-1&&(E===h.INNER_HTML||E===h.CSS_TEXT||E===h.ITEM_PROP)&&(p=E)}if(!p||!d[p])return!1;var R=d[p].toLowerCase();return n[p]||(n[p]={}),s[p]||(s[p]={}),n[p][R]?!1:(s[p][R]=!0,!0)}).reverse().forEach(function(d){return o.push(d)});for(var i=Object.keys(s),u=0;u<i.length;u++){var c=i[u],T=V({},n[c],s[c]);n[c]=T}return o},[]).reverse()},O=function(e,r){for(var t=e.length-1;t>=0;t--){var n=e[t];if(n.hasOwnProperty(r))return n[r]}return null},oe=function(e){return{baseTag:ie([h.HREF,h.TARGET],e),bodyAttributes:N(S.BODY,e),defer:O(e,H.DEFER),encode:O(e,H.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:N(S.HTML,e),linkTags:I(l.LINK,[h.REL,h.HREF],e),metaTags:I(l.META,[h.NAME,h.CHARSET,h.HTTPEQUIV,h.PROPERTY,h.ITEM_PROP],e),noscriptTags:I(l.NOSCRIPT,[h.INNER_HTML],e),onChangeClientState:ae(e),scriptTags:I(l.SCRIPT,[h.SRC,h.INNER_HTML],e),styleTags:I(l.STYLE,[h.CSS_TEXT],e),title:ne(e),titleAttributes:N(S.TITLE,e)}},j=function(){var a=Date.now();return function(e){var r=Date.now();r-a>16?(a=r,e(r)):setTimeout(function(){j(e)},0)}}(),D=function(e){return clearTimeout(e)},se=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||j:global.requestAnimationFrame||j,ue=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||D:global.cancelAnimationFrame||D,le=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},L=null,ce=function(e){L&&ue(L),e.defer?L=se(function(){Y(e,function(){L=null})}):(Y(e),L=null)},Y=function(e,r){var t=e.baseTag,n=e.bodyAttributes,o=e.htmlAttributes,f=e.linkTags,s=e.metaTags,i=e.noscriptTags,u=e.onChangeClientState,c=e.scriptTags,T=e.styleTags,d=e.title,p=e.titleAttributes;F(l.BODY,n),F(l.HTML,o),fe(d,p);var b={baseTag:P(l.BASE,t),linkTags:P(l.LINK,f),metaTags:P(l.META,s),noscriptTags:P(l.NOSCRIPT,i),scriptTags:P(l.SCRIPT,c),styleTags:P(l.STYLE,T)},A={},E={};Object.keys(b).forEach(function(y){var R=b[y],x=R.newTags,X=R.oldTags;x.length&&(A[y]=x),X.length&&(E[y]=b[y].oldTags)}),r&&r(),u(e,A,E)},q=function(e){return Array.isArray(e)?e.join(""):e},fe=function(e,r){typeof e<"u"&&document.title!==e&&(document.title=q(e)),F(l.TITLE,r)},F=function(e,r){var t=document.getElementsByTagName(e)[0];if(t){for(var n=t.getAttribute(g),o=n?n.split(","):[],f=[].concat(o),s=Object.keys(r),i=0;i<s.length;i++){var u=s[i],c=r[u]||"";t.getAttribute(u)!==c&&t.setAttribute(u,c),o.indexOf(u)===-1&&o.push(u);var T=f.indexOf(u);T!==-1&&f.splice(T,1)}for(var d=f.length-1;d>=0;d--)t.removeAttribute(f[d]);o.length===f.length?t.removeAttribute(g):t.getAttribute(g)!==s.join(",")&&t.setAttribute(g,s.join(","))}},P=function(e,r){var t=document.head||document.querySelector(l.HEAD),n=t.querySelectorAll(e+"["+g+"]"),o=Array.prototype.slice.call(n),f=[],s=void 0;return r&&r.length&&r.forEach(function(i){var u=document.createElement(e);for(var c in i)if(i.hasOwnProperty(c))if(c===h.INNER_HTML)u.innerHTML=i.innerHTML;else if(c===h.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=i.cssText:u.appendChild(document.createTextNode(i.cssText));else{var T=typeof i[c]>"u"?"":i[c];u.setAttribute(c,T)}u.setAttribute(g,"true"),o.some(function(d,p){return s=p,u.isEqualNode(d)})?o.splice(s,1):f.push(u)}),o.forEach(function(i){return i.parentNode.removeChild(i)}),f.forEach(function(i){return t.appendChild(i)}),{oldTags:o,newTags:f}},U=function(e){return Object.keys(e).reduce(function(r,t){var n=typeof e[t]<"u"?t+'="'+e[t]+'"':""+t;return r?r+" "+n:n},"")},Te=function(e,r,t,n){var o=U(t),f=q(r);return o?"<"+e+" "+g+'="true" '+o+">"+_(f,n)+"</"+e+">":"<"+e+" "+g+'="true">'+_(f,n)+"</"+e+">"},de=function(e,r,t){return r.reduce(function(n,o){var f=Object.keys(o).filter(function(u){return!(u===h.INNER_HTML||u===h.CSS_TEXT)}).reduce(function(u,c){var T=typeof o[c]>"u"?c:c+'="'+_(o[c],t)+'"';return u?u+" "+T:T},""),s=o.innerHTML||o.cssText||"",i=J.indexOf(e)===-1;return n+"<"+e+" "+g+'="true" '+f+(i?"/>":">"+s+"</"+e+">")},"")},G=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(t,n){return t[M[n]||n]=e[n],t},r)},pe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(t,n){return t[W[n]||n]=e[n],t},r)},me=function(e,r,t){var n,o=(n={key:r},n[g]=!0,n),f=G(t,o);return[w.createElement(l.TITLE,f,r)]},he=function(e,r){return r.map(function(t,n){var o,f=(o={key:n},o[g]=!0,o);return Object.keys(t).forEach(function(s){var i=M[s]||s;if(i===h.INNER_HTML||i===h.CSS_TEXT){var u=t.innerHTML||t.cssText;f.dangerouslySetInnerHTML={__html:u}}else f[i]=t[s]}),w.createElement(e,f)})},C=function(e,r,t){switch(e){case l.TITLE:return{toComponent:function(){return me(e,r.title,r.titleAttributes)},toString:function(){return Te(e,r.title,r.titleAttributes,t)}};case S.BODY:case S.HTML:return{toComponent:function(){return G(r)},toString:function(){return U(r)}};default:return{toComponent:function(){return he(e,r)},toString:function(){return de(e,r,t)}}}},$=function(e){var r=e.baseTag,t=e.bodyAttributes,n=e.encode,o=e.htmlAttributes,f=e.linkTags,s=e.metaTags,i=e.noscriptTags,u=e.scriptTags,c=e.styleTags,T=e.title,d=T===void 0?"":T,p=e.titleAttributes;return{base:C(l.BASE,r,n),bodyAttributes:C(S.BODY,t,n),htmlAttributes:C(S.HTML,o,n),link:C(l.LINK,f,n),meta:C(l.META,s,n),noscript:C(l.NOSCRIPT,i,n),script:C(l.SCRIPT,u,n),style:C(l.STYLE,c,n),title:C(l.TITLE,{title:d,titleAttributes:p},n)}},ve=function(e){var r,t;return t=r=function(n){te(o,n);function o(){return K(this,o),re(this,n.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(s){return!Q(this.props,s)},o.prototype.mapNestedChildrenToProps=function(s,i){if(!i)return null;switch(s.type){case l.SCRIPT:case l.NOSCRIPT:return{innerHTML:i};case l.STYLE:return{cssText:i}}throw new Error("<"+s.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(s){var i,u=s.child,c=s.arrayTypeChildren,T=s.newChildProps,d=s.nestedChildren;return v({},c,(i={},i[u.type]=[].concat(c[u.type]||[],[v({},T,this.mapNestedChildrenToProps(u,d))]),i))},o.prototype.mapObjectTypeChildren=function(s){var i,u,c=s.child,T=s.newProps,d=s.newChildProps,p=s.nestedChildren;switch(c.type){case l.TITLE:return v({},T,(i={},i[c.type]=p,i.titleAttributes=v({},d),i));case l.BODY:return v({},T,{bodyAttributes:v({},d)});case l.HTML:return v({},T,{htmlAttributes:v({},d)})}return v({},T,(u={},u[c.type]=v({},d),u))},o.prototype.mapArrayTypeChildrenToProps=function(s,i){var u=v({},i);return Object.keys(s).forEach(function(c){var T;u=v({},u,(T={},T[c]=s[c],T))}),u},o.prototype.warnOnInvalidChildren=function(s,i){return!0},o.prototype.mapChildrenToProps=function(s,i){var u=this,c={};return w.Children.forEach(s,function(T){if(!(!T||!T.props)){var d=T.props,p=d.children,b=k(d,["children"]),A=pe(b);switch(u.warnOnInvalidChildren(T,p),T.type){case l.LINK:case l.META:case l.NOSCRIPT:case l.SCRIPT:case l.STYLE:c=u.flattenArrayTypeChildren({child:T,arrayTypeChildren:c,newChildProps:A,nestedChildren:p});break;default:i=u.mapObjectTypeChildren({child:T,newProps:i,newChildProps:A,nestedChildren:p});break}}}),i=this.mapArrayTypeChildrenToProps(c,i),i},o.prototype.render=function(){var s=this.props,i=s.children,u=k(s,["children"]),c=v({},u);return i&&(c=this.mapChildrenToProps(i,c)),w.createElement(e,c)},ee(o,null,[{key:"canUseDOM",set:function(s){e.canUseDOM=s}}]),o}(w.Component),r.propTypes={base:m.object,bodyAttributes:m.object,children:m.oneOfType([m.arrayOf(m.node),m.node]),defaultTitle:m.string,defer:m.bool,encodeSpecialCharacters:m.bool,htmlAttributes:m.object,link:m.arrayOf(m.object),meta:m.arrayOf(m.object),noscript:m.arrayOf(m.object),onChangeClientState:m.func,script:m.arrayOf(m.object),style:m.arrayOf(m.object),title:m.string,titleAttributes:m.object,titleTemplate:m.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=e.peek,r.rewind=function(){var n=e.rewind();return n||(n=$({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),n},t},ge=function(){return null},Ae=z(oe,ce,$)(ge),B=ve(Ae);B.renderStatic=B.rewind;export{B as H};
